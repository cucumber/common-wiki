h2. How to use RCov with Cucumber and Rails


This page serves as an easy way to learn how to use cucumber and RCov together.

h3. Quick example

First, Aslak recommends that you use "spicycode's RCov":http://github.com/spicycode/rcov/tree/master instead of the 'official' one, as it currently segfaults too much for most people's taste.

<pre>
gem sources -a http://gems.github.com
gem uninstall rcov
gem install spicycode-rcov
</pre>

Second, you'll need to open up the cucumber generated task file and set the rcov config option.

<pre>
#lib/tasks/cucumber.rake
$:.unshift(RAILS_ROOT + '/vendor/plugins/cucumber/lib')
require 'cucumber/rake/task'
Cucumber::Rake::Task.new(:features) do |t|
  t.cucumber_opts = "--format pretty"
  t.rcov = true
end
task :features => 'db:test:prepare'
</pre>

Now when you run rake:features, coverage information will be in rails_root/coverage

h3. Other ways to run features

See "Running features":http://github.com/aslakhellesoy/cucumber/wikis/running-features


h3. Options

TODO:

How to write a task to run features with.without rcov

How to pass rcov options 
