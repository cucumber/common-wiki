h2. Webrat

You can use Cucumber with "Sinatra":http://github.com/bmizerany/sinatra and "Webrat":http://www.brynary.com/uploads/webrat/rdoc/index.html!

Just make sure you have a <code>features/support/env.rb</code> file with the following:

<pre><code># NOTE: This must come before the require 'webrat', otherwise 
# sinatra will look in the wrong place for its views.
require File.dirname(__FILE__) + '/../../your_sinatra_app'

# RSpec matchers
require 'spec/expectations'

# Webrat
require 'webrat'
Webrat.configure do |config|
  config.mode = :sinatra
end

World do
  session = Webrat::SinatraSession.new
  session.extend(Webrat::Matchers)
  session.extend(Webrat::HaveTagMatcher)
  session
end
</code></pre>

h2. Sinatra/Test

You can also use Cucumber with "Sinatra":http://github.com/bmizerany/sinatra using Sinatra's built-in "testing setup":http://www.sinatrarb.com/testing.html and "Test Harness":http://www.sinatrarb.com/testing.html#using_.  Make sure you have the following in your <code>features/support/env.rb</code>.

<pre><code>
require File.dirname(__FILE__) + "/../../your_sinatra_app"

# RSpec matchers
require 'spec/expectations'
require 'spec/interop/test'
require 'sinatra/test'

Test::Unit::TestCase.send :include, Sinatra::Test

World do
  Sinatra::TestHarness.new(Sinatra::Application)
end
</code></pre>